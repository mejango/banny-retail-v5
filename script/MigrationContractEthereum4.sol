// SPDX-License-Identifier: MIT
pragma solidity 0.8.23;

import {IERC721} from "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import {JB721TiersHook} from "@bananapus/721-hook-v5/src/JB721TiersHook.sol";
import {Banny721TokenUriResolver} from "../src/Banny721TokenUriResolver.sol";

/// @notice Migration contract for Ethereum to handle standalone outfits and backgrounds
/// that are not worn/used by any banny. These assets are minted to this contract
/// and then transferred directly to their owners.
contract MigrationContractEthereum4 {
    address[] private transferOwners;
    
    constructor(address[] memory _transferOwners) {
        transferOwners = _transferOwners;
    }
    
    function executeMigration(
        address hookAddress,
        address resolverAddress,
        address v4HookAddress,
        address v4ResolverAddress,
        address fallbackV4ResolverAddress
    ) external {
        
        // Validate addresses
        require(hookAddress != address(0), "Hook address not set");
        require(resolverAddress != address(0), "Resolver address not set");
        require(v4HookAddress != address(0), "V4 Hook address not set");
        require(v4ResolverAddress != address(0), "V4 Resolver address not set");
        require(fallbackV4ResolverAddress != address(0), "V4 fallback resolver address not set");
        
        JB721TiersHook hook = JB721TiersHook(hookAddress);
        IERC721 v4Hook = IERC721(v4HookAddress);
        
        // Ethereum migration - Standalone outfits and backgrounds (280 items)
        // These are assets that are NOT being worn/used by any banny
        
        // Assets are already minted to this contract by the deployer
        // Token IDs are the same for V4 and V5 (using original token IDs from V4)
        
        // Generate token IDs (V4 and V5 use the same token IDs)
        uint256[] memory tokenIds = new uint256[](transferOwners.length);
                tokenIds[0] = 10000000014; // Token ID (V4: 10000000004, should match)
        tokenIds[1] = 10000000015; // Token ID (V4: 10000000008, should match)
        tokenIds[2] = 10000000016; // Token ID (V4: 10000000009, should match)
        tokenIds[3] = 10000000017; // Token ID (V4: 10000000010, should match)
        tokenIds[4] = 10000000018; // Token ID (V4: 10000000011, should match)
        tokenIds[5] = 10000000019; // Token ID (V4: 10000000013, should match)
        tokenIds[6] = 10000000020; // Token ID (V4: 10000000014, should match)
        tokenIds[7] = 11000000001; // Token ID (V4: 11000000001, should match)
        tokenIds[8] = 13000000004; // Token ID (V4: 13000000002, should match)
        tokenIds[9] = 13000000005; // Token ID (V4: 13000000004, should match)
        tokenIds[10] = 14000000006; // Token ID (V4: 14000000002, should match)
        tokenIds[11] = 14000000007; // Token ID (V4: 14000000004, should match)
        tokenIds[12] = 14000000008; // Token ID (V4: 14000000006, should match)
        tokenIds[13] = 17000000005; // Token ID (V4: 17000000003, should match)
        tokenIds[14] = 17000000006; // Token ID (V4: 17000000004, should match)
        tokenIds[15] = 17000000007; // Token ID (V4: 17000000005, should match)
        tokenIds[16] = 19000000022; // Token ID (V4: 19000000001, should match)
        tokenIds[17] = 19000000023; // Token ID (V4: 19000000003, should match)
        tokenIds[18] = 19000000024; // Token ID (V4: 19000000006, should match)
        tokenIds[19] = 19000000025; // Token ID (V4: 19000000007, should match)
        tokenIds[20] = 19000000026; // Token ID (V4: 19000000010, should match)
        tokenIds[21] = 19000000027; // Token ID (V4: 19000000014, should match)
        tokenIds[22] = 19000000028; // Token ID (V4: 19000000022, should match)
        tokenIds[23] = 20000000008; // Token ID (V4: 20000000002, should match)
        tokenIds[24] = 20000000009; // Token ID (V4: 20000000003, should match)
        tokenIds[25] = 20000000010; // Token ID (V4: 20000000004, should match)
        tokenIds[26] = 20000000011; // Token ID (V4: 20000000005, should match)
        tokenIds[27] = 20000000012; // Token ID (V4: 20000000006, should match)
        tokenIds[28] = 20000000013; // Token ID (V4: 20000000007, should match)
        tokenIds[29] = 21000000002; // Token ID (V4: 21000000002, should match)
        tokenIds[30] = 23000000008; // Token ID (V4: 23000000006, should match)
        tokenIds[31] = 23000000009; // Token ID (V4: 23000000008, should match)
        tokenIds[32] = 25000000012; // Token ID (V4: 25000000001, should match)
        tokenIds[33] = 25000000013; // Token ID (V4: 25000000004, should match)
        tokenIds[34] = 25000000014; // Token ID (V4: 25000000012, should match)
        tokenIds[35] = 26000000007; // Token ID (V4: 26000000006, should match)
        tokenIds[36] = 26000000008; // Token ID (V4: 26000000007, should match)
        tokenIds[37] = 28000000009; // Token ID (V4: 28000000001, should match)
        tokenIds[38] = 28000000010; // Token ID (V4: 28000000003, should match)
        tokenIds[39] = 28000000011; // Token ID (V4: 28000000004, should match)
        tokenIds[40] = 28000000012; // Token ID (V4: 28000000005, should match)
        tokenIds[41] = 28000000013; // Token ID (V4: 28000000006, should match)
        tokenIds[42] = 28000000014; // Token ID (V4: 28000000007, should match)
        tokenIds[43] = 28000000015; // Token ID (V4: 28000000009, should match)
        tokenIds[44] = 29000000003; // Token ID (V4: 29000000001, should match)
        tokenIds[45] = 31000000013; // Token ID (V4: 31000000001, should match)
        tokenIds[46] = 31000000014; // Token ID (V4: 31000000004, should match)
        tokenIds[47] = 31000000015; // Token ID (V4: 31000000005, should match)
        tokenIds[48] = 31000000016; // Token ID (V4: 31000000008, should match)
        tokenIds[49] = 31000000017; // Token ID (V4: 31000000012, should match)
        tokenIds[50] = 32000000005; // Token ID (V4: 32000000004, should match)
        tokenIds[51] = 32000000006; // Token ID (V4: 32000000005, should match)
        tokenIds[52] = 33000000002; // Token ID (V4: 33000000002, should match)
        tokenIds[53] = 35000000009; // Token ID (V4: 35000000005, should match)
        tokenIds[54] = 35000000010; // Token ID (V4: 35000000008, should match)
        tokenIds[55] = 35000000011; // Token ID (V4: 35000000009, should match)
        tokenIds[56] = 37000000004; // Token ID (V4: 37000000002, should match)
        tokenIds[57] = 37000000005; // Token ID (V4: 37000000004, should match)
        tokenIds[58] = 39000000004; // Token ID (V4: 39000000004, should match)
        tokenIds[59] = 40000000003; // Token ID (V4: 40000000002, should match)
        tokenIds[60] = 40000000004; // Token ID (V4: 40000000003, should match)
        tokenIds[61] = 41000000005; // Token ID (V4: 41000000005, should match)
        tokenIds[62] = 42000000019; // Token ID (V4: 42000000001, should match)
        tokenIds[63] = 42000000020; // Token ID (V4: 42000000003, should match)
        tokenIds[64] = 42000000021; // Token ID (V4: 42000000005, should match)
        tokenIds[65] = 42000000022; // Token ID (V4: 42000000006, should match)
        tokenIds[66] = 42000000023; // Token ID (V4: 42000000008, should match)
        tokenIds[67] = 42000000024; // Token ID (V4: 42000000009, should match)
        tokenIds[68] = 42000000025; // Token ID (V4: 42000000010, should match)
        tokenIds[69] = 42000000026; // Token ID (V4: 42000000011, should match)
        tokenIds[70] = 42000000027; // Token ID (V4: 42000000012, should match)
        tokenIds[71] = 42000000028; // Token ID (V4: 42000000013, should match)
        tokenIds[72] = 42000000029; // Token ID (V4: 42000000014, should match)
        tokenIds[73] = 42000000030; // Token ID (V4: 42000000015, should match)
        tokenIds[74] = 42000000031; // Token ID (V4: 42000000016, should match)
        tokenIds[75] = 42000000032; // Token ID (V4: 42000000017, should match)
        tokenIds[76] = 42000000033; // Token ID (V4: 42000000018, should match)
        tokenIds[77] = 42000000034; // Token ID (V4: 42000000019, should match)
        tokenIds[78] = 43000000018; // Token ID (V4: 43000000001, should match)
        tokenIds[79] = 43000000019; // Token ID (V4: 43000000002, should match)
        tokenIds[80] = 43000000020; // Token ID (V4: 43000000004, should match)
        tokenIds[81] = 43000000021; // Token ID (V4: 43000000009, should match)
        tokenIds[82] = 43000000022; // Token ID (V4: 43000000010, should match)
        tokenIds[83] = 43000000023; // Token ID (V4: 43000000011, should match)
        tokenIds[84] = 43000000024; // Token ID (V4: 43000000012, should match)
        tokenIds[85] = 43000000025; // Token ID (V4: 43000000013, should match)
        tokenIds[86] = 43000000026; // Token ID (V4: 43000000014, should match)
        tokenIds[87] = 43000000027; // Token ID (V4: 43000000015, should match)
        tokenIds[88] = 43000000028; // Token ID (V4: 43000000016, should match)
        tokenIds[89] = 44000000034; // Token ID (V4: 44000000002, should match)
        tokenIds[90] = 44000000035; // Token ID (V4: 44000000005, should match)
        tokenIds[91] = 44000000036; // Token ID (V4: 44000000006, should match)
        tokenIds[92] = 44000000037; // Token ID (V4: 44000000007, should match)
        tokenIds[93] = 44000000038; // Token ID (V4: 44000000010, should match)
        tokenIds[94] = 44000000039; // Token ID (V4: 44000000011, should match)
        tokenIds[95] = 44000000040; // Token ID (V4: 44000000012, should match)
        tokenIds[96] = 44000000041; // Token ID (V4: 44000000013, should match)
        tokenIds[97] = 44000000042; // Token ID (V4: 44000000014, should match)
        tokenIds[98] = 44000000043; // Token ID (V4: 44000000015, should match)
        tokenIds[99] = 44000000044; // Token ID (V4: 44000000016, should match)
        tokenIds[100] = 44000000045; // Token ID (V4: 44000000017, should match)
        tokenIds[101] = 44000000046; // Token ID (V4: 44000000018, should match)
        tokenIds[102] = 44000000047; // Token ID (V4: 44000000019, should match)
        tokenIds[103] = 44000000048; // Token ID (V4: 44000000020, should match)
        tokenIds[104] = 44000000049; // Token ID (V4: 44000000021, should match)
        tokenIds[105] = 44000000050; // Token ID (V4: 44000000022, should match)
        tokenIds[106] = 44000000051; // Token ID (V4: 44000000023, should match)
        tokenIds[107] = 44000000052; // Token ID (V4: 44000000024, should match)
        tokenIds[108] = 44000000053; // Token ID (V4: 44000000025, should match)
        tokenIds[109] = 44000000054; // Token ID (V4: 44000000026, should match)
        tokenIds[110] = 44000000055; // Token ID (V4: 44000000027, should match)
        tokenIds[111] = 44000000056; // Token ID (V4: 44000000028, should match)
        tokenIds[112] = 44000000057; // Token ID (V4: 44000000029, should match)
        tokenIds[113] = 44000000058; // Token ID (V4: 44000000030, should match)
        tokenIds[114] = 44000000059; // Token ID (V4: 44000000031, should match)
        tokenIds[115] = 44000000060; // Token ID (V4: 44000000032, should match)
        tokenIds[116] = 44000000061; // Token ID (V4: 44000000033, should match)
        tokenIds[117] = 44000000062; // Token ID (V4: 44000000034, should match)
        tokenIds[118] = 47000000014; // Token ID (V4: 47000000001, should match)
        tokenIds[119] = 47000000015; // Token ID (V4: 47000000002, should match)
        tokenIds[120] = 47000000016; // Token ID (V4: 47000000004, should match)
        tokenIds[121] = 47000000017; // Token ID (V4: 47000000006, should match)
        tokenIds[122] = 47000000018; // Token ID (V4: 47000000007, should match)
        tokenIds[123] = 47000000019; // Token ID (V4: 47000000008, should match)
        tokenIds[124] = 47000000020; // Token ID (V4: 47000000009, should match)
        tokenIds[125] = 47000000021; // Token ID (V4: 47000000010, should match)
        tokenIds[126] = 47000000022; // Token ID (V4: 47000000011, should match)
        tokenIds[127] = 47000000023; // Token ID (V4: 47000000012, should match)
        tokenIds[128] = 47000000024; // Token ID (V4: 47000000013, should match)
        tokenIds[129] = 47000000025; // Token ID (V4: 47000000014, should match)
        tokenIds[130] = 48000000006; // Token ID (V4: 48000000004, should match)
        tokenIds[131] = 49000000145; // Token ID (V4: 49000000003, should match)
        tokenIds[132] = 49000000146; // Token ID (V4: 49000000005, should match)
        tokenIds[133] = 49000000147; // Token ID (V4: 49000000006, should match)
        tokenIds[134] = 49000000148; // Token ID (V4: 49000000007, should match)
        tokenIds[135] = 49000000149; // Token ID (V4: 49000000008, should match)
        tokenIds[136] = 49000000150; // Token ID (V4: 49000000009, should match)
        tokenIds[137] = 49000000151; // Token ID (V4: 49000000010, should match)
        tokenIds[138] = 49000000152; // Token ID (V4: 49000000011, should match)
        tokenIds[139] = 49000000153; // Token ID (V4: 49000000012, should match)
        tokenIds[140] = 49000000154; // Token ID (V4: 49000000013, should match)
        tokenIds[141] = 49000000155; // Token ID (V4: 49000000014, should match)
        tokenIds[142] = 49000000156; // Token ID (V4: 49000000015, should match)
        tokenIds[143] = 49000000157; // Token ID (V4: 49000000016, should match)
        tokenIds[144] = 49000000158; // Token ID (V4: 49000000017, should match)
        tokenIds[145] = 49000000159; // Token ID (V4: 49000000018, should match)
        tokenIds[146] = 49000000160; // Token ID (V4: 49000000019, should match)
        tokenIds[147] = 49000000161; // Token ID (V4: 49000000020, should match)
        tokenIds[148] = 49000000162; // Token ID (V4: 49000000021, should match)
        tokenIds[149] = 49000000163; // Token ID (V4: 49000000022, should match)
        tokenIds[150] = 49000000164; // Token ID (V4: 49000000023, should match)
        tokenIds[151] = 49000000165; // Token ID (V4: 49000000024, should match)
        tokenIds[152] = 49000000166; // Token ID (V4: 49000000025, should match)
        tokenIds[153] = 49000000167; // Token ID (V4: 49000000026, should match)
        tokenIds[154] = 49000000168; // Token ID (V4: 49000000027, should match)
        tokenIds[155] = 49000000169; // Token ID (V4: 49000000028, should match)
        tokenIds[156] = 49000000170; // Token ID (V4: 49000000029, should match)
        tokenIds[157] = 49000000171; // Token ID (V4: 49000000030, should match)
        tokenIds[158] = 49000000172; // Token ID (V4: 49000000031, should match)
        tokenIds[159] = 49000000173; // Token ID (V4: 49000000032, should match)
        tokenIds[160] = 49000000174; // Token ID (V4: 49000000033, should match)
        tokenIds[161] = 49000000175; // Token ID (V4: 49000000034, should match)
        tokenIds[162] = 49000000176; // Token ID (V4: 49000000035, should match)
        tokenIds[163] = 49000000177; // Token ID (V4: 49000000036, should match)
        tokenIds[164] = 49000000178; // Token ID (V4: 49000000037, should match)
        tokenIds[165] = 49000000179; // Token ID (V4: 49000000038, should match)
        tokenIds[166] = 49000000180; // Token ID (V4: 49000000039, should match)
        tokenIds[167] = 49000000181; // Token ID (V4: 49000000040, should match)
        tokenIds[168] = 49000000182; // Token ID (V4: 49000000041, should match)
        tokenIds[169] = 49000000183; // Token ID (V4: 49000000042, should match)
        tokenIds[170] = 49000000184; // Token ID (V4: 49000000043, should match)
        tokenIds[171] = 49000000185; // Token ID (V4: 49000000044, should match)
        tokenIds[172] = 49000000186; // Token ID (V4: 49000000045, should match)
        tokenIds[173] = 49000000187; // Token ID (V4: 49000000046, should match)
        tokenIds[174] = 49000000188; // Token ID (V4: 49000000047, should match)
        tokenIds[175] = 49000000189; // Token ID (V4: 49000000048, should match)
        tokenIds[176] = 49000000190; // Token ID (V4: 49000000049, should match)
        tokenIds[177] = 49000000191; // Token ID (V4: 49000000050, should match)
        tokenIds[178] = 49000000192; // Token ID (V4: 49000000051, should match)
        tokenIds[179] = 49000000193; // Token ID (V4: 49000000052, should match)
        tokenIds[180] = 49000000194; // Token ID (V4: 49000000053, should match)
        tokenIds[181] = 49000000195; // Token ID (V4: 49000000054, should match)
        tokenIds[182] = 49000000196; // Token ID (V4: 49000000055, should match)
        tokenIds[183] = 49000000197; // Token ID (V4: 49000000056, should match)
        tokenIds[184] = 49000000198; // Token ID (V4: 49000000057, should match)
        tokenIds[185] = 49000000199; // Token ID (V4: 49000000058, should match)
        tokenIds[186] = 49000000200; // Token ID (V4: 49000000059, should match)
        tokenIds[187] = 49000000201; // Token ID (V4: 49000000060, should match)
        tokenIds[188] = 49000000202; // Token ID (V4: 49000000061, should match)
        tokenIds[189] = 49000000203; // Token ID (V4: 49000000062, should match)
        tokenIds[190] = 49000000204; // Token ID (V4: 49000000063, should match)
        tokenIds[191] = 49000000205; // Token ID (V4: 49000000064, should match)
        tokenIds[192] = 49000000206; // Token ID (V4: 49000000065, should match)
        tokenIds[193] = 49000000207; // Token ID (V4: 49000000066, should match)
        tokenIds[194] = 49000000208; // Token ID (V4: 49000000067, should match)
        tokenIds[195] = 49000000209; // Token ID (V4: 49000000068, should match)
        tokenIds[196] = 49000000210; // Token ID (V4: 49000000069, should match)
        tokenIds[197] = 49000000211; // Token ID (V4: 49000000070, should match)
        tokenIds[198] = 49000000212; // Token ID (V4: 49000000071, should match)
        tokenIds[199] = 49000000213; // Token ID (V4: 49000000072, should match)
        tokenIds[200] = 49000000214; // Token ID (V4: 49000000073, should match)
        tokenIds[201] = 49000000215; // Token ID (V4: 49000000074, should match)
        tokenIds[202] = 49000000216; // Token ID (V4: 49000000075, should match)
        tokenIds[203] = 49000000217; // Token ID (V4: 49000000076, should match)
        tokenIds[204] = 49000000218; // Token ID (V4: 49000000077, should match)
        tokenIds[205] = 49000000219; // Token ID (V4: 49000000078, should match)
        tokenIds[206] = 49000000220; // Token ID (V4: 49000000079, should match)
        tokenIds[207] = 49000000221; // Token ID (V4: 49000000080, should match)
        tokenIds[208] = 49000000222; // Token ID (V4: 49000000081, should match)
        tokenIds[209] = 49000000223; // Token ID (V4: 49000000082, should match)
        tokenIds[210] = 49000000224; // Token ID (V4: 49000000083, should match)
        tokenIds[211] = 49000000225; // Token ID (V4: 49000000084, should match)
        tokenIds[212] = 49000000226; // Token ID (V4: 49000000085, should match)
        tokenIds[213] = 49000000227; // Token ID (V4: 49000000086, should match)
        tokenIds[214] = 49000000228; // Token ID (V4: 49000000087, should match)
        tokenIds[215] = 49000000229; // Token ID (V4: 49000000088, should match)
        tokenIds[216] = 49000000230; // Token ID (V4: 49000000089, should match)
        tokenIds[217] = 49000000231; // Token ID (V4: 49000000090, should match)
        tokenIds[218] = 49000000232; // Token ID (V4: 49000000091, should match)
        tokenIds[219] = 49000000233; // Token ID (V4: 49000000092, should match)
        tokenIds[220] = 49000000234; // Token ID (V4: 49000000093, should match)
        tokenIds[221] = 49000000235; // Token ID (V4: 49000000094, should match)
        tokenIds[222] = 49000000236; // Token ID (V4: 49000000095, should match)
        tokenIds[223] = 49000000237; // Token ID (V4: 49000000096, should match)
        tokenIds[224] = 49000000238; // Token ID (V4: 49000000097, should match)
        tokenIds[225] = 49000000239; // Token ID (V4: 49000000098, should match)
        tokenIds[226] = 49000000240; // Token ID (V4: 49000000099, should match)
        tokenIds[227] = 49000000241; // Token ID (V4: 49000000100, should match)
        tokenIds[228] = 49000000242; // Token ID (V4: 49000000101, should match)
        tokenIds[229] = 49000000243; // Token ID (V4: 49000000102, should match)
        tokenIds[230] = 49000000244; // Token ID (V4: 49000000103, should match)
        tokenIds[231] = 49000000245; // Token ID (V4: 49000000104, should match)
        tokenIds[232] = 49000000246; // Token ID (V4: 49000000105, should match)
        tokenIds[233] = 49000000247; // Token ID (V4: 49000000106, should match)
        tokenIds[234] = 49000000248; // Token ID (V4: 49000000107, should match)
        tokenIds[235] = 49000000249; // Token ID (V4: 49000000108, should match)
        tokenIds[236] = 49000000250; // Token ID (V4: 49000000109, should match)
        tokenIds[237] = 49000000251; // Token ID (V4: 49000000110, should match)
        tokenIds[238] = 49000000252; // Token ID (V4: 49000000111, should match)
        tokenIds[239] = 49000000253; // Token ID (V4: 49000000112, should match)
        tokenIds[240] = 49000000254; // Token ID (V4: 49000000113, should match)
        tokenIds[241] = 49000000255; // Token ID (V4: 49000000114, should match)
        tokenIds[242] = 49000000256; // Token ID (V4: 49000000115, should match)
        tokenIds[243] = 49000000257; // Token ID (V4: 49000000116, should match)
        tokenIds[244] = 49000000258; // Token ID (V4: 49000000117, should match)
        tokenIds[245] = 49000000259; // Token ID (V4: 49000000118, should match)
        tokenIds[246] = 49000000260; // Token ID (V4: 49000000119, should match)
        tokenIds[247] = 49000000261; // Token ID (V4: 49000000120, should match)
        tokenIds[248] = 49000000262; // Token ID (V4: 49000000121, should match)
        tokenIds[249] = 49000000263; // Token ID (V4: 49000000122, should match)
        tokenIds[250] = 49000000264; // Token ID (V4: 49000000123, should match)
        tokenIds[251] = 49000000265; // Token ID (V4: 49000000124, should match)
        tokenIds[252] = 49000000266; // Token ID (V4: 49000000125, should match)
        tokenIds[253] = 49000000267; // Token ID (V4: 49000000126, should match)
        tokenIds[254] = 49000000268; // Token ID (V4: 49000000127, should match)
        tokenIds[255] = 49000000269; // Token ID (V4: 49000000128, should match)
        tokenIds[256] = 49000000270; // Token ID (V4: 49000000129, should match)
        tokenIds[257] = 49000000271; // Token ID (V4: 49000000130, should match)
        tokenIds[258] = 49000000272; // Token ID (V4: 49000000131, should match)
        tokenIds[259] = 49000000273; // Token ID (V4: 49000000132, should match)
        tokenIds[260] = 49000000274; // Token ID (V4: 49000000133, should match)
        tokenIds[261] = 49000000275; // Token ID (V4: 49000000134, should match)
        tokenIds[262] = 49000000276; // Token ID (V4: 49000000135, should match)
        tokenIds[263] = 49000000277; // Token ID (V4: 49000000136, should match)
        tokenIds[264] = 49000000278; // Token ID (V4: 49000000137, should match)
        tokenIds[265] = 49000000279; // Token ID (V4: 49000000138, should match)
        tokenIds[266] = 49000000280; // Token ID (V4: 49000000139, should match)
        tokenIds[267] = 49000000281; // Token ID (V4: 49000000140, should match)
        tokenIds[268] = 49000000282; // Token ID (V4: 49000000141, should match)
        tokenIds[269] = 49000000283; // Token ID (V4: 49000000142, should match)
        tokenIds[270] = 49000000284; // Token ID (V4: 49000000143, should match)
        tokenIds[271] = 49000000285; // Token ID (V4: 49000000144, should match)
        tokenIds[272] = 49000000286; // Token ID (V4: 49000000145, should match)
        tokenIds[273] = 5000000008; // Token ID (V4: 5000000003, should match)
        tokenIds[274] = 5000000009; // Token ID (V4: 5000000007, should match)
        tokenIds[275] = 6000000013; // Token ID (V4: 6000000005, should match)
        tokenIds[276] = 6000000014; // Token ID (V4: 6000000006, should match)
        tokenIds[277] = 6000000015; // Token ID (V4: 6000000007, should match)
        tokenIds[278] = 6000000016; // Token ID (V4: 6000000008, should match)
        tokenIds[279] = 6000000017; // Token ID (V4: 6000000009, should match)

        
        for (uint256 i = 0; i < transferOwners.length; i++) {
            uint256 tokenId = tokenIds[i];
            
            // Verify V4 ownership before transferring V5 (V4 and V5 token IDs are the same)
            address v4Owner = v4Hook.ownerOf(tokenId);
            // Allow ownership by the expected owner or either resolver (resolver holds worn/used tokens)
            require(
                v4Owner == transferOwners[i] || 
                v4Owner == address(v4ResolverAddress) || 
                v4Owner == address(fallbackV4ResolverAddress), 
                "V4/V5 ownership mismatch for token"
            );
            
            // Skip transfer if V4 owner is the resolver (resolver holds these tokens, we shouldn't transfer to resolver)
            if (v4Owner == address(v4ResolverAddress) || v4Owner == address(fallbackV4ResolverAddress)) {
                // Token is held by resolver, skip transfer
                continue;
            }
            
            // Verify this contract owns the token before transferring
            require(hook.ownerOf(tokenId) == address(this), "Contract does not own token");
            
            // Transfer using the same token ID (V4 and V5 are the same)
            IERC721(address(hook)).safeTransferFrom(
                address(this), 
                transferOwners[i], 
                tokenId
            );
        }
    }
}