// SPDX-License-Identifier: MIT
pragma solidity 0.8.23;

import {IERC721} from "@openzeppelin/contracts/token/ERC721/IERC721.sol";
import {JB721TiersHook} from "@bananapus/721-hook-v5/src/JB721TiersHook.sol";
import {Banny721TokenUriResolver} from "../src/Banny721TokenUriResolver.sol";

/// @notice Migration contract for Ethereum to handle standalone outfits and backgrounds
/// that are not worn/used by any banny. These assets are minted to this contract
/// and then transferred directly to their owners.
contract MigrationContractEthereum4 {
    address[] private transferOwners;
    
    constructor(address[] memory _transferOwners) {
        transferOwners = _transferOwners;
    }
    
    function executeMigration(
        address hookAddress,
        address resolverAddress,
        address v4HookAddress,
        address v4ResolverAddress,
        address fallbackV4ResolverAddress
    ) external {
        
        // Validate addresses
        require(hookAddress != address(0), "Hook address not set");
        require(resolverAddress != address(0), "Resolver address not set");
        require(v4HookAddress != address(0), "V4 Hook address not set");
        require(v4ResolverAddress != address(0), "V4 Resolver address not set");
        require(fallbackV4ResolverAddress != address(0), "V4 fallback resolver address not set");
        
        JB721TiersHook hook = JB721TiersHook(hookAddress);
        IERC721 v4Hook = IERC721(v4HookAddress);
        
        // Ethereum migration - Standalone outfits and backgrounds (280 items)
        // These are assets that are NOT being worn/used by any banny
        
        // Assets are already minted to this contract by the deployer
        // Token IDs are the same for V4 and V5 (using original token IDs from V4)
        
        // Generate token IDs (V4 and V5 use the same token IDs)
        uint256[] memory tokenIds = new uint256[](transferOwners.length);
                tokenIds[0] = 10000000004; // Token ID (same for V4 and V5)
        tokenIds[1] = 10000000008; // Token ID (same for V4 and V5)
        tokenIds[2] = 10000000009; // Token ID (same for V4 and V5)
        tokenIds[3] = 10000000010; // Token ID (same for V4 and V5)
        tokenIds[4] = 10000000011; // Token ID (same for V4 and V5)
        tokenIds[5] = 10000000013; // Token ID (same for V4 and V5)
        tokenIds[6] = 10000000014; // Token ID (same for V4 and V5)
        tokenIds[7] = 11000000001; // Token ID (same for V4 and V5)
        tokenIds[8] = 13000000002; // Token ID (same for V4 and V5)
        tokenIds[9] = 13000000004; // Token ID (same for V4 and V5)
        tokenIds[10] = 14000000002; // Token ID (same for V4 and V5)
        tokenIds[11] = 14000000004; // Token ID (same for V4 and V5)
        tokenIds[12] = 14000000006; // Token ID (same for V4 and V5)
        tokenIds[13] = 17000000003; // Token ID (same for V4 and V5)
        tokenIds[14] = 17000000004; // Token ID (same for V4 and V5)
        tokenIds[15] = 17000000005; // Token ID (same for V4 and V5)
        tokenIds[16] = 19000000001; // Token ID (same for V4 and V5)
        tokenIds[17] = 19000000003; // Token ID (same for V4 and V5)
        tokenIds[18] = 19000000006; // Token ID (same for V4 and V5)
        tokenIds[19] = 19000000007; // Token ID (same for V4 and V5)
        tokenIds[20] = 19000000010; // Token ID (same for V4 and V5)
        tokenIds[21] = 19000000014; // Token ID (same for V4 and V5)
        tokenIds[22] = 19000000022; // Token ID (same for V4 and V5)
        tokenIds[23] = 20000000002; // Token ID (same for V4 and V5)
        tokenIds[24] = 20000000003; // Token ID (same for V4 and V5)
        tokenIds[25] = 20000000004; // Token ID (same for V4 and V5)
        tokenIds[26] = 20000000005; // Token ID (same for V4 and V5)
        tokenIds[27] = 20000000006; // Token ID (same for V4 and V5)
        tokenIds[28] = 20000000007; // Token ID (same for V4 and V5)
        tokenIds[29] = 21000000002; // Token ID (same for V4 and V5)
        tokenIds[30] = 23000000006; // Token ID (same for V4 and V5)
        tokenIds[31] = 23000000008; // Token ID (same for V4 and V5)
        tokenIds[32] = 25000000001; // Token ID (same for V4 and V5)
        tokenIds[33] = 25000000004; // Token ID (same for V4 and V5)
        tokenIds[34] = 25000000012; // Token ID (same for V4 and V5)
        tokenIds[35] = 26000000006; // Token ID (same for V4 and V5)
        tokenIds[36] = 26000000007; // Token ID (same for V4 and V5)
        tokenIds[37] = 28000000001; // Token ID (same for V4 and V5)
        tokenIds[38] = 28000000003; // Token ID (same for V4 and V5)
        tokenIds[39] = 28000000004; // Token ID (same for V4 and V5)
        tokenIds[40] = 28000000005; // Token ID (same for V4 and V5)
        tokenIds[41] = 28000000006; // Token ID (same for V4 and V5)
        tokenIds[42] = 28000000007; // Token ID (same for V4 and V5)
        tokenIds[43] = 28000000009; // Token ID (same for V4 and V5)
        tokenIds[44] = 29000000001; // Token ID (same for V4 and V5)
        tokenIds[45] = 31000000001; // Token ID (same for V4 and V5)
        tokenIds[46] = 31000000004; // Token ID (same for V4 and V5)
        tokenIds[47] = 31000000005; // Token ID (same for V4 and V5)
        tokenIds[48] = 31000000008; // Token ID (same for V4 and V5)
        tokenIds[49] = 31000000012; // Token ID (same for V4 and V5)
        tokenIds[50] = 32000000004; // Token ID (same for V4 and V5)
        tokenIds[51] = 32000000005; // Token ID (same for V4 and V5)
        tokenIds[52] = 33000000002; // Token ID (same for V4 and V5)
        tokenIds[53] = 35000000005; // Token ID (same for V4 and V5)
        tokenIds[54] = 35000000008; // Token ID (same for V4 and V5)
        tokenIds[55] = 35000000009; // Token ID (same for V4 and V5)
        tokenIds[56] = 37000000002; // Token ID (same for V4 and V5)
        tokenIds[57] = 37000000004; // Token ID (same for V4 and V5)
        tokenIds[58] = 39000000004; // Token ID (same for V4 and V5)
        tokenIds[59] = 40000000002; // Token ID (same for V4 and V5)
        tokenIds[60] = 40000000003; // Token ID (same for V4 and V5)
        tokenIds[61] = 41000000005; // Token ID (same for V4 and V5)
        tokenIds[62] = 42000000001; // Token ID (same for V4 and V5)
        tokenIds[63] = 42000000003; // Token ID (same for V4 and V5)
        tokenIds[64] = 42000000005; // Token ID (same for V4 and V5)
        tokenIds[65] = 42000000006; // Token ID (same for V4 and V5)
        tokenIds[66] = 42000000008; // Token ID (same for V4 and V5)
        tokenIds[67] = 42000000009; // Token ID (same for V4 and V5)
        tokenIds[68] = 42000000010; // Token ID (same for V4 and V5)
        tokenIds[69] = 42000000011; // Token ID (same for V4 and V5)
        tokenIds[70] = 42000000012; // Token ID (same for V4 and V5)
        tokenIds[71] = 42000000013; // Token ID (same for V4 and V5)
        tokenIds[72] = 42000000014; // Token ID (same for V4 and V5)
        tokenIds[73] = 42000000015; // Token ID (same for V4 and V5)
        tokenIds[74] = 42000000016; // Token ID (same for V4 and V5)
        tokenIds[75] = 42000000017; // Token ID (same for V4 and V5)
        tokenIds[76] = 42000000018; // Token ID (same for V4 and V5)
        tokenIds[77] = 42000000019; // Token ID (same for V4 and V5)
        tokenIds[78] = 43000000001; // Token ID (same for V4 and V5)
        tokenIds[79] = 43000000002; // Token ID (same for V4 and V5)
        tokenIds[80] = 43000000004; // Token ID (same for V4 and V5)
        tokenIds[81] = 43000000009; // Token ID (same for V4 and V5)
        tokenIds[82] = 43000000010; // Token ID (same for V4 and V5)
        tokenIds[83] = 43000000011; // Token ID (same for V4 and V5)
        tokenIds[84] = 43000000012; // Token ID (same for V4 and V5)
        tokenIds[85] = 43000000013; // Token ID (same for V4 and V5)
        tokenIds[86] = 43000000014; // Token ID (same for V4 and V5)
        tokenIds[87] = 43000000015; // Token ID (same for V4 and V5)
        tokenIds[88] = 43000000016; // Token ID (same for V4 and V5)
        tokenIds[89] = 44000000002; // Token ID (same for V4 and V5)
        tokenIds[90] = 44000000005; // Token ID (same for V4 and V5)
        tokenIds[91] = 44000000006; // Token ID (same for V4 and V5)
        tokenIds[92] = 44000000007; // Token ID (same for V4 and V5)
        tokenIds[93] = 44000000010; // Token ID (same for V4 and V5)
        tokenIds[94] = 44000000011; // Token ID (same for V4 and V5)
        tokenIds[95] = 44000000012; // Token ID (same for V4 and V5)
        tokenIds[96] = 44000000013; // Token ID (same for V4 and V5)
        tokenIds[97] = 44000000014; // Token ID (same for V4 and V5)
        tokenIds[98] = 44000000015; // Token ID (same for V4 and V5)
        tokenIds[99] = 44000000016; // Token ID (same for V4 and V5)
        tokenIds[100] = 44000000017; // Token ID (same for V4 and V5)
        tokenIds[101] = 44000000018; // Token ID (same for V4 and V5)
        tokenIds[102] = 44000000019; // Token ID (same for V4 and V5)
        tokenIds[103] = 44000000020; // Token ID (same for V4 and V5)
        tokenIds[104] = 44000000021; // Token ID (same for V4 and V5)
        tokenIds[105] = 44000000022; // Token ID (same for V4 and V5)
        tokenIds[106] = 44000000023; // Token ID (same for V4 and V5)
        tokenIds[107] = 44000000024; // Token ID (same for V4 and V5)
        tokenIds[108] = 44000000025; // Token ID (same for V4 and V5)
        tokenIds[109] = 44000000026; // Token ID (same for V4 and V5)
        tokenIds[110] = 44000000027; // Token ID (same for V4 and V5)
        tokenIds[111] = 44000000028; // Token ID (same for V4 and V5)
        tokenIds[112] = 44000000029; // Token ID (same for V4 and V5)
        tokenIds[113] = 44000000030; // Token ID (same for V4 and V5)
        tokenIds[114] = 44000000031; // Token ID (same for V4 and V5)
        tokenIds[115] = 44000000032; // Token ID (same for V4 and V5)
        tokenIds[116] = 44000000033; // Token ID (same for V4 and V5)
        tokenIds[117] = 44000000034; // Token ID (same for V4 and V5)
        tokenIds[118] = 47000000001; // Token ID (same for V4 and V5)
        tokenIds[119] = 47000000002; // Token ID (same for V4 and V5)
        tokenIds[120] = 47000000004; // Token ID (same for V4 and V5)
        tokenIds[121] = 47000000006; // Token ID (same for V4 and V5)
        tokenIds[122] = 47000000007; // Token ID (same for V4 and V5)
        tokenIds[123] = 47000000008; // Token ID (same for V4 and V5)
        tokenIds[124] = 47000000009; // Token ID (same for V4 and V5)
        tokenIds[125] = 47000000010; // Token ID (same for V4 and V5)
        tokenIds[126] = 47000000011; // Token ID (same for V4 and V5)
        tokenIds[127] = 47000000012; // Token ID (same for V4 and V5)
        tokenIds[128] = 47000000013; // Token ID (same for V4 and V5)
        tokenIds[129] = 47000000014; // Token ID (same for V4 and V5)
        tokenIds[130] = 48000000004; // Token ID (same for V4 and V5)
        tokenIds[131] = 49000000003; // Token ID (same for V4 and V5)
        tokenIds[132] = 49000000005; // Token ID (same for V4 and V5)
        tokenIds[133] = 49000000006; // Token ID (same for V4 and V5)
        tokenIds[134] = 49000000007; // Token ID (same for V4 and V5)
        tokenIds[135] = 49000000008; // Token ID (same for V4 and V5)
        tokenIds[136] = 49000000009; // Token ID (same for V4 and V5)
        tokenIds[137] = 49000000010; // Token ID (same for V4 and V5)
        tokenIds[138] = 49000000011; // Token ID (same for V4 and V5)
        tokenIds[139] = 49000000012; // Token ID (same for V4 and V5)
        tokenIds[140] = 49000000013; // Token ID (same for V4 and V5)
        tokenIds[141] = 49000000014; // Token ID (same for V4 and V5)
        tokenIds[142] = 49000000015; // Token ID (same for V4 and V5)
        tokenIds[143] = 49000000016; // Token ID (same for V4 and V5)
        tokenIds[144] = 49000000017; // Token ID (same for V4 and V5)
        tokenIds[145] = 49000000018; // Token ID (same for V4 and V5)
        tokenIds[146] = 49000000019; // Token ID (same for V4 and V5)
        tokenIds[147] = 49000000020; // Token ID (same for V4 and V5)
        tokenIds[148] = 49000000021; // Token ID (same for V4 and V5)
        tokenIds[149] = 49000000022; // Token ID (same for V4 and V5)
        tokenIds[150] = 49000000023; // Token ID (same for V4 and V5)
        tokenIds[151] = 49000000024; // Token ID (same for V4 and V5)
        tokenIds[152] = 49000000025; // Token ID (same for V4 and V5)
        tokenIds[153] = 49000000026; // Token ID (same for V4 and V5)
        tokenIds[154] = 49000000027; // Token ID (same for V4 and V5)
        tokenIds[155] = 49000000028; // Token ID (same for V4 and V5)
        tokenIds[156] = 49000000029; // Token ID (same for V4 and V5)
        tokenIds[157] = 49000000030; // Token ID (same for V4 and V5)
        tokenIds[158] = 49000000031; // Token ID (same for V4 and V5)
        tokenIds[159] = 49000000032; // Token ID (same for V4 and V5)
        tokenIds[160] = 49000000033; // Token ID (same for V4 and V5)
        tokenIds[161] = 49000000034; // Token ID (same for V4 and V5)
        tokenIds[162] = 49000000035; // Token ID (same for V4 and V5)
        tokenIds[163] = 49000000036; // Token ID (same for V4 and V5)
        tokenIds[164] = 49000000037; // Token ID (same for V4 and V5)
        tokenIds[165] = 49000000038; // Token ID (same for V4 and V5)
        tokenIds[166] = 49000000039; // Token ID (same for V4 and V5)
        tokenIds[167] = 49000000040; // Token ID (same for V4 and V5)
        tokenIds[168] = 49000000041; // Token ID (same for V4 and V5)
        tokenIds[169] = 49000000042; // Token ID (same for V4 and V5)
        tokenIds[170] = 49000000043; // Token ID (same for V4 and V5)
        tokenIds[171] = 49000000044; // Token ID (same for V4 and V5)
        tokenIds[172] = 49000000045; // Token ID (same for V4 and V5)
        tokenIds[173] = 49000000046; // Token ID (same for V4 and V5)
        tokenIds[174] = 49000000047; // Token ID (same for V4 and V5)
        tokenIds[175] = 49000000048; // Token ID (same for V4 and V5)
        tokenIds[176] = 49000000049; // Token ID (same for V4 and V5)
        tokenIds[177] = 49000000050; // Token ID (same for V4 and V5)
        tokenIds[178] = 49000000051; // Token ID (same for V4 and V5)
        tokenIds[179] = 49000000052; // Token ID (same for V4 and V5)
        tokenIds[180] = 49000000053; // Token ID (same for V4 and V5)
        tokenIds[181] = 49000000054; // Token ID (same for V4 and V5)
        tokenIds[182] = 49000000055; // Token ID (same for V4 and V5)
        tokenIds[183] = 49000000056; // Token ID (same for V4 and V5)
        tokenIds[184] = 49000000057; // Token ID (same for V4 and V5)
        tokenIds[185] = 49000000058; // Token ID (same for V4 and V5)
        tokenIds[186] = 49000000059; // Token ID (same for V4 and V5)
        tokenIds[187] = 49000000060; // Token ID (same for V4 and V5)
        tokenIds[188] = 49000000061; // Token ID (same for V4 and V5)
        tokenIds[189] = 49000000062; // Token ID (same for V4 and V5)
        tokenIds[190] = 49000000063; // Token ID (same for V4 and V5)
        tokenIds[191] = 49000000064; // Token ID (same for V4 and V5)
        tokenIds[192] = 49000000065; // Token ID (same for V4 and V5)
        tokenIds[193] = 49000000066; // Token ID (same for V4 and V5)
        tokenIds[194] = 49000000067; // Token ID (same for V4 and V5)
        tokenIds[195] = 49000000068; // Token ID (same for V4 and V5)
        tokenIds[196] = 49000000069; // Token ID (same for V4 and V5)
        tokenIds[197] = 49000000070; // Token ID (same for V4 and V5)
        tokenIds[198] = 49000000071; // Token ID (same for V4 and V5)
        tokenIds[199] = 49000000072; // Token ID (same for V4 and V5)
        tokenIds[200] = 49000000073; // Token ID (same for V4 and V5)
        tokenIds[201] = 49000000074; // Token ID (same for V4 and V5)
        tokenIds[202] = 49000000075; // Token ID (same for V4 and V5)
        tokenIds[203] = 49000000076; // Token ID (same for V4 and V5)
        tokenIds[204] = 49000000077; // Token ID (same for V4 and V5)
        tokenIds[205] = 49000000078; // Token ID (same for V4 and V5)
        tokenIds[206] = 49000000079; // Token ID (same for V4 and V5)
        tokenIds[207] = 49000000080; // Token ID (same for V4 and V5)
        tokenIds[208] = 49000000081; // Token ID (same for V4 and V5)
        tokenIds[209] = 49000000082; // Token ID (same for V4 and V5)
        tokenIds[210] = 49000000083; // Token ID (same for V4 and V5)
        tokenIds[211] = 49000000084; // Token ID (same for V4 and V5)
        tokenIds[212] = 49000000085; // Token ID (same for V4 and V5)
        tokenIds[213] = 49000000086; // Token ID (same for V4 and V5)
        tokenIds[214] = 49000000087; // Token ID (same for V4 and V5)
        tokenIds[215] = 49000000088; // Token ID (same for V4 and V5)
        tokenIds[216] = 49000000089; // Token ID (same for V4 and V5)
        tokenIds[217] = 49000000090; // Token ID (same for V4 and V5)
        tokenIds[218] = 49000000091; // Token ID (same for V4 and V5)
        tokenIds[219] = 49000000092; // Token ID (same for V4 and V5)
        tokenIds[220] = 49000000093; // Token ID (same for V4 and V5)
        tokenIds[221] = 49000000094; // Token ID (same for V4 and V5)
        tokenIds[222] = 49000000095; // Token ID (same for V4 and V5)
        tokenIds[223] = 49000000096; // Token ID (same for V4 and V5)
        tokenIds[224] = 49000000097; // Token ID (same for V4 and V5)
        tokenIds[225] = 49000000098; // Token ID (same for V4 and V5)
        tokenIds[226] = 49000000099; // Token ID (same for V4 and V5)
        tokenIds[227] = 49000000100; // Token ID (same for V4 and V5)
        tokenIds[228] = 49000000101; // Token ID (same for V4 and V5)
        tokenIds[229] = 49000000102; // Token ID (same for V4 and V5)
        tokenIds[230] = 49000000103; // Token ID (same for V4 and V5)
        tokenIds[231] = 49000000104; // Token ID (same for V4 and V5)
        tokenIds[232] = 49000000105; // Token ID (same for V4 and V5)
        tokenIds[233] = 49000000106; // Token ID (same for V4 and V5)
        tokenIds[234] = 49000000107; // Token ID (same for V4 and V5)
        tokenIds[235] = 49000000108; // Token ID (same for V4 and V5)
        tokenIds[236] = 49000000109; // Token ID (same for V4 and V5)
        tokenIds[237] = 49000000110; // Token ID (same for V4 and V5)
        tokenIds[238] = 49000000111; // Token ID (same for V4 and V5)
        tokenIds[239] = 49000000112; // Token ID (same for V4 and V5)
        tokenIds[240] = 49000000113; // Token ID (same for V4 and V5)
        tokenIds[241] = 49000000114; // Token ID (same for V4 and V5)
        tokenIds[242] = 49000000115; // Token ID (same for V4 and V5)
        tokenIds[243] = 49000000116; // Token ID (same for V4 and V5)
        tokenIds[244] = 49000000117; // Token ID (same for V4 and V5)
        tokenIds[245] = 49000000118; // Token ID (same for V4 and V5)
        tokenIds[246] = 49000000119; // Token ID (same for V4 and V5)
        tokenIds[247] = 49000000120; // Token ID (same for V4 and V5)
        tokenIds[248] = 49000000121; // Token ID (same for V4 and V5)
        tokenIds[249] = 49000000122; // Token ID (same for V4 and V5)
        tokenIds[250] = 49000000123; // Token ID (same for V4 and V5)
        tokenIds[251] = 49000000124; // Token ID (same for V4 and V5)
        tokenIds[252] = 49000000125; // Token ID (same for V4 and V5)
        tokenIds[253] = 49000000126; // Token ID (same for V4 and V5)
        tokenIds[254] = 49000000127; // Token ID (same for V4 and V5)
        tokenIds[255] = 49000000128; // Token ID (same for V4 and V5)
        tokenIds[256] = 49000000129; // Token ID (same for V4 and V5)
        tokenIds[257] = 49000000130; // Token ID (same for V4 and V5)
        tokenIds[258] = 49000000131; // Token ID (same for V4 and V5)
        tokenIds[259] = 49000000132; // Token ID (same for V4 and V5)
        tokenIds[260] = 49000000133; // Token ID (same for V4 and V5)
        tokenIds[261] = 49000000134; // Token ID (same for V4 and V5)
        tokenIds[262] = 49000000135; // Token ID (same for V4 and V5)
        tokenIds[263] = 49000000136; // Token ID (same for V4 and V5)
        tokenIds[264] = 49000000137; // Token ID (same for V4 and V5)
        tokenIds[265] = 49000000138; // Token ID (same for V4 and V5)
        tokenIds[266] = 49000000139; // Token ID (same for V4 and V5)
        tokenIds[267] = 49000000140; // Token ID (same for V4 and V5)
        tokenIds[268] = 49000000141; // Token ID (same for V4 and V5)
        tokenIds[269] = 49000000142; // Token ID (same for V4 and V5)
        tokenIds[270] = 49000000143; // Token ID (same for V4 and V5)
        tokenIds[271] = 49000000144; // Token ID (same for V4 and V5)
        tokenIds[272] = 49000000145; // Token ID (same for V4 and V5)
        tokenIds[273] = 5000000003; // Token ID (same for V4 and V5)
        tokenIds[274] = 5000000007; // Token ID (same for V4 and V5)
        tokenIds[275] = 6000000005; // Token ID (same for V4 and V5)
        tokenIds[276] = 6000000006; // Token ID (same for V4 and V5)
        tokenIds[277] = 6000000007; // Token ID (same for V4 and V5)
        tokenIds[278] = 6000000008; // Token ID (same for V4 and V5)
        tokenIds[279] = 6000000009; // Token ID (same for V4 and V5)

        
        for (uint256 i = 0; i < transferOwners.length; i++) {
            uint256 tokenId = tokenIds[i];
            
            // Verify V4 ownership before transferring V5 (V4 and V5 token IDs are the same)
            address v4Owner = v4Hook.ownerOf(tokenId);
            // Allow ownership by the expected owner or either resolver (resolver holds worn/used tokens)
            require(
                v4Owner == transferOwners[i] || 
                v4Owner == address(v4ResolverAddress) || 
                v4Owner == address(fallbackV4ResolverAddress), 
                "V4/V5 ownership mismatch for token"
            );
            
            // Skip transfer if V4 owner is the resolver (resolver holds these tokens, we shouldn't transfer to resolver)
            if (v4Owner == address(v4ResolverAddress) || v4Owner == address(fallbackV4ResolverAddress)) {
                // Token is held by resolver, skip transfer
                continue;
            }
            
            // Transfer using the same token ID
            IERC721(address(hook)).safeTransferFrom(
                address(this), 
                transferOwners[i], 
                tokenId
            );
        }
    }
}